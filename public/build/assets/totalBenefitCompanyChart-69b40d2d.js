import{C as g,a as p,L as f,B as y,b as h,p as b,d as w,g as B,c as I}from"./chartjs-plugin-datalabels.esm-6f583e48.js";import{a as x}from"./chartjs-plugin-autocolors.esm-2149ea1c.js";g.register(p,f,y,h,b,w,B,x);const i=[],C=async t=>{try{await Promise.all(t.map((e,o)=>new Promise((l,n)=>{const a=new Image;a.src=e,a.onload=()=>{i[o]=a,l()},a.onerror=n})))}catch(e){console.error("Error loading logos:",e)}},P={id:"customImagePlugin",afterDraw:t=>{const{ctx:e,chartArea:o,scales:l}=t;t.data.labels.forEach((n,a)=>{const c=o.left+10,d=l.y.getPixelForValue(a)-15;if(i[a]){const r=i[a],m=r.width/r.height,s=50,u=s/m;e.drawImage(r,c-s/7,d,s,u)}})}};async function k(t){const e=document.getElementById("totalBenefitChart").getContext("2d"),o=t.map(a=>a.company_name),l=t.map(a=>a.total_benefit),n=t.map(a=>a.logo);await C(n),new g(e,{type:"bar",data:{labels:o,datasets:[{label:"Total Financial Benefit",data:l,borderWidth:1,maxBarThickness:40}]},options:{indexAxis:"y",plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(a){return`Benefit: Rp ${a.raw.toLocaleString("id-ID")}`}}},autocolors:{mode:"data"},datalabels:{display:!0,anchor:"center",align:"center",formatter:a=>D(a),font:{weight:"bold",size:14},color:"#000"}},responsive:!0,scales:{x:{beginAtZero:!0,title:{display:!1,text:"Perusahaan"},ticks:{display:!1}},y:{ticks:{display:!1,autoSkip:!1}}}},plugins:[P,I]})}const D=t=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(t);window.renderTotalBenefitChart=k;
