import{C as d,a as h,L as y,B as b,b as w,p as B,d as C,c as P}from"./chartjs-plugin-datalabels.esm-6f583e48.js";import{a as m}from"./chartjs-plugin-autocolors.esm-2149ea1c.js";d.register(h,y,b,w,B,C,m);const c=[],x=async a=>{try{await Promise.all(a.map((e,o)=>new Promise((l,n)=>{const t=new Image;t.src=e,t.onload=()=>{c[o]=t,l()},t.onerror=n})))}catch(e){console.error("Error loading logos:",e)}},I={id:"customImagePlugin",afterDraw:a=>{const{ctx:e,chartArea:o,scales:l}=a;a.data.labels.forEach((n,t)=>{const g=o.left+10,u=l.y.getPixelForValue(t)-15;if(c[t]){const s=c[t],p=s.width/s.height,r=50,f=r/p;e.drawImage(s,g-r/7,u,r,f)}})}};let i=null;async function k(a){const e=document.getElementById("totalPotentialBenefitChart").getContext("2d"),o=a.map(t=>t.company_name),l=a.map(t=>t.total_benefit),n=a.map(t=>t.logo);await x(n),i&&i.destroy(),i=new d(e,{type:"bar",data:{labels:o,datasets:[{label:"Total Potential Benefit",data:l,borderWidth:1,maxBarThickness:40}]},options:{indexAxis:"y",plugins:{legend:{display:!1},tooltip:{callbacks:{label:function(t){return`Benefit: Rp ${t.raw.toLocaleString("id-ID")}`}}},autocolors:{mode:"data"},datalabels:{display:!0,anchor:"center",align:"center",formatter:t=>t.toLocaleString("id-ID"),font:{weight:"bold",size:14},color:"#000"}},responsive:!0,scales:{x:{beginAtZero:!0,title:{display:!1,text:"Perusahaan"},ticks:{display:!1}},y:{ticks:{display:!1,autoSkip:!1}}}},plugins:[I,m,P]})}window.renderTotalBenefitChart=k;
