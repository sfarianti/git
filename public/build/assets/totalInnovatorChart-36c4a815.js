import{C as g,a as m,L as p,B as D,b,p as y,d as f,g as w,c as v}from"./chartjs-plugin-datalabels.esm-6f583e48.js";g.register(m,p,D,b,y,f,w,v);let n=[];const x=async l=>{n=[];try{await Promise.all(l.map((o,s)=>new Promise((e,t)=>{const a=new Image;a.src=o,a.onload=()=>{n[s]=a,e()},a.onerror=t})))}catch(o){console.error("Error loading logos:",o)}},I={id:"customImagePlugin",afterDraw:l=>{const{ctx:o,chartArea:s,scales:e}=l;l.data.labels.forEach((t,a)=>{const r=e.x.getPixelForTick(a),d=s.bottom+10;if(n[a]){const i=n[a],h=i.width/i.height,c=30,u=c/h;o.drawImage(i,r-c/2,d,c,u)}})}};document.addEventListener("DOMContentLoaded",async()=>{const l=document.getElementById("total-innovator-chart").getContext("2d");if(!chartData.datasets||chartData.datasets.length===0){console.error("Dataset kosong!");return}const o=chartData.datasets.length-1,s=chartData.datasets[o].data;if(!s||s.length===0){console.error("Data tahun terbaru kosong!");return}let e=chartData.labels.map((t,a)=>({label:t,logo:chartData.logos[a],value:s[a],datasetValues:chartData.datasets.map(r=>r.data[a])}));e.sort((t,a)=>a.value-t.value),chartData.labels=e.map(t=>t.label),chartData.logos=e.map(t=>t.logo),chartData.datasets.forEach((t,a)=>{t.data=e.map(r=>r.datasetValues[a])}),console.log("Data setelah sorting:",chartData),await x(chartData.logos),new g(l,{type:"bar",data:{labels:chartData.labels,datasets:chartData.datasets},options:{responsive:!0,layout:{padding:{bottom:50}},plugins:{legend:{display:!0,position:"top",labels:{font:{size:12},boxWidth:20,padding:15}},title:{display:!0,text:"Jumlah Keterlibatan Inovator per Perusahaan"},datalabels:{display:!0,align:"end",anchor:"end",formatter:t=>t.toLocaleString(),font:{weight:"bold",size:12}}},scales:{x:{title:{display:!1,text:"Perusahaan"},ticks:{display:!1}},y:{title:{display:!0,text:"Jumlah Inovator"}}}},plugins:[I]})});
